<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="/static/layui/css/layui.css" media="all">
    <link rel="stylesheet" href="/static/css/common.css" media="all">
    <script type="text/javascript" src="/static/layui/layui.js"></script>
    <script type="text/javascript" src="/static/js/jquery/jquery-3.3.1.min.js"></script>
    <script type="text/javascript" src="/static/js/echarts/echarts.min.js"></script>
</head>
<style>
    html {
        height: 100%;
        color: #666;
        background: #fbfbfb;
    }
    body {
        height: 100%;
        font: 14px Helvetica Neue,Helvetica,PingFang SC,Tahoma,Arial,sans-serif;
    }
    #container {
        margin-left: 15px;
        margin-top: 10px;
        padding: 15px;
        height: 100%;
    }
    .cool-home-top.layui-card {
        margin: 0 3px;
        display: inline-block;
        width: 32%;
        border-radius: 5px;
        box-shadow: 0 0 3px rgba(0,0,0,.1);
    }
    .layui-card-body {
        padding: 15px;
        height: 75px;
    }
    .layui-badge {
        float: right;
        top: 31%;
    }
    .cool-home-top-count {
        font-size: 36px;
        color: #666;
        line-height: 36px;
        padding: 5px 0 10px;
        overflow: hidden;
        text-overflow: ellipsis;
        word-break: break-all;
        white-space: nowrap;
    }
    .cool-home-top-total {
        margin-top: 7px;
    }
    .cool-home-top-count-span {
        float: right;
    }
    .cool-home-top-total .layui-icon {
        margin-left: 3px;
    }

    /*主体*/
    .cool-home-stats {
        padding: 5px 1px;
        width: 98%;
        margin-top: 15px;
        border-radius: 5px;
        box-shadow: 0 0 3px rgba(0,0,0,.1);
    }
    .cool-home-stats .layui-card-body {
        padding: 35px 15px 0px 15px;
        height: auto;
    }
    .cool-btn-group {
        float: right;
    }

    /*折线图*/
    #echarts {
        height:400px;
        width: 66.66666667%;
        display: inline-block;
        vertical-align:top
    }
    /*进度条*/
    #progress {
        padding-top: 60px;
        padding-left: 15px;
        width: 30%;
        height: 400px;
        display: inline-block;
        vertical-align:top
    }
    .cool-card-list {
        padding: 15px;
    }
    .cool-card-list p {
        padding-bottom: 10px;
        font-size: 20px;
        color: #666;
        line-height: 24px;
    }

</style>
<body id="body" >
<div id="container">
    <!--头部数据-->
    <div class="cool-home-top layui-card">
        <div class="layui-card-header">访问量<span class="layui-badge layui-bg-blue">周</span></div>
        <div class="layui-card-body">
            <p class="cool-home-top-count">999999</p>
            <p class="cool-home-top-total">总访问量<span class="cool-home-top-count-span">88万<i class="layui-inline layui-icon layui-icon-flag"></i></span></p>
        </div>
    </div>
    <div class="cool-home-top layui-card">
        <div class="layui-card-header">用户量<span class="layui-badge layui-bg-yellow">总</span></div>
        <div class="layui-card-body">
            <p class="cool-home-top-count">999999</p>
            <p class="cool-home-top-total">活跃度<span class="cool-home-top-count-span">15%<i class="layui-inline layui-icon layui-icon-face-smile"></i></span></p>
        </div>
    </div>
    <div class="cool-home-top layui-card">
        <div class="layui-card-header">收入<span class="layui-badge layui-bg-green">年</span></div>
        <div class="layui-card-body">
            <p class="cool-home-top-count">999999</p>
            <p class="cool-home-top-total">总收入<span class="cool-home-top-count-span">88万<i class="layui-inline layui-icon layui-icon-dollar"></i></span></p>
        </div>
    </div>


    <!--统计数据-->
    <div class="cool-home-stats layui-card">
        <div class="layui-card-header">
            数据概览
            <div class="layui-btn-group cool-btn-group">
                <a href="javascript:;" class="layui-btn layui-btn-primary layui-btn-xs">去年</a>
                <a href="javascript:;" class="layui-btn layui-btn-primary layui-btn-xs">今年</a>
            </div>
        </div>
        <div class="layui-card-body">
            <!--报表-->
            <div id="echarts"></div>
            <!--进度-->
            <div id="progress">
                <div class="cool-card-list">
                    <p>月访问数</p>
                    <span>同上期增长</span>
                    <div class="layui-progress layui-progress-big">
                        <div class="layui-progress-bar" lay-percent="30%">
                            <span class="layui-progress-text">30%</span>
                        </div>
                    </div>
                </div>
                <div class="cool-card-list">
                    <p>月活跃数</p>
                    <span>同上期增长</span>
                    <div class="layui-progress layui-progress-big">
                        <div class="layui-progress-bar" lay-percent="40%">
                            <span class="layui-progress-text">40%</span>
                        </div>
                    </div>
                </div>
                <div class="cool-card-list">
                    <p>月收入</p>
                    <span>同上期增长</span>
                    <div class="layui-progress layui-progress-big">
                        <div class="layui-progress-bar" lay-percent="80%">
                            <span class="layui-progress-text">80%</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>
</body>
<script >
    layui.use('element', function(){
        var element = layui.element,
            layer = layui.layer,
            $ = layui.jquery;

        $.ajax({
            url: "/home/top",
            // data: user,
            method: 'POST',
            success: function (res) {
                if (res.code === 200){
                    console.log(res);
                } else if (res.code === 403){
                    top.location.href = "/";
                } else {
                    layer.msg(res.msg);
                }
            }
        });

    });

    $(window).resize(function () {
        // $(".cool-home-top").css("width", "33%")
    });

    var myChart = echarts.init(document.getElementById('echarts'));
    option = {
        title: {
            // subtext: '堆叠区域图'
        },
        // 提示框组件
        tooltip : {
            // 坐标轴触发
            trigger: 'axis',
            // 坐标轴指示器
            axisPointer: {
                // 十字准星指示器
                type: 'cross',
                label: {
                    backgroundColor: '#6a7985'
                }
            }
        },
        // 图表上方的组件集合
        legend: {
            data:[{name:'邮件营销'},'联盟广告','视频广告','直接访问','搜索引擎']
        },
        // 工具栏
        toolbox: {
            feature: {
                // 保存为图片
                // saveAsImage: {}
            }
        },
        // 图表的样式
        grid: {
            left: '3%',
            right: '4%',
            bottom: '3%',
            containLabel: true
        },
        // x轴
        xAxis : [
            {
                type : 'category',
                // 坐标轴两边留白策略
                boundaryGap : false,
                data : ['周一','周二','周三','周四','周五','周六','周日']
            }
        ],
        // y轴
        yAxis : [
            {
                type : 'value'
            }
        ],
        // 数据
        series : [
            {
                name:'邮件营销',
                type:'line',
                stack: '总量',
                areaStyle: {},
                data:[120, 132, 101, 134, 90, 230, 210]
            },
            {
                name:'联盟广告',
                type:'line',
                stack: '总量',
                areaStyle: {},
                data:[220, 182, 191, 234, 290, 330, 310]
            },
            {
                name:'视频广告',
                type:'line',
                stack: '总量',
                areaStyle: {normal: {}},
                data:[150, 232, 201, 154, 190, 330, 410]
            },
            {
                name:'直接访问',
                type:'line',
                stack: '总量',
                areaStyle: {normal: {}},
                data:[320, 332, 301, 334, 390, 330, 320]
            },
            {
                name:'搜索引擎',
                type:'line',
                stack: '总量',
                // 数据
                label: {
                    normal: {
                        show: true,
                        position: 'top'
                    }
                },
                areaStyle: {normal: {}},
                data:[820, 932, 901, 934, 1290, 1330, 1320]
            }
        ]
    };

    if (option && typeof option === "object") {
        myChart.setOption(option, true);
    }
</script>
</html>